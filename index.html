<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surpresa</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Estilos básicos */
        .slider-item {
            display: none;
            transition: opacity 1s ease-in-out;
        }
        .slider-item.active {
            display: block;
        }

        /* Bolinhas de navegação */
        .slider-dots {
            text-align: center;
            margin-top: 10px;
        }
        .dot {
            height: 15px;
            width: 15px;
            margin: 0 5px;
            background-color: #bbb;
            border-radius: 50%;
            display: inline-block;
            cursor: pointer;
            transition: background-color 0.6s ease;
        }
        .dot.active {
            background-color: #333;
        }

        /* Contador */
        #contador {
            font-size: 1.5rem;
            color: #fff; /* Texto branco */
            margin: 20px 0;
            font-weight: bold; /* Negrito */
            text-align: center;
        }
        /* Legenda da foto */
        #legenda-foto {
            text-align: center;
            font-size: 1.2rem;
            color: #fff;
            margin-top: 10px;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px;
            border-radius: 8px;
            max-width: 80%;
            margin-left: auto;
            margin-right: auto;
 
        }
/* Estilos para marca d'água na segunda página */
#page2::before {
        content: "";
        position: fixed; /* Fixo no fundo */
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url('foto11.jpg');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        opacity: 0.1; /* Reduz a opacidade para efeito de marca d'água */
        z-index: -1; /* Mantém a imagem atrás do conteúdo */
        pointer-events: none; /* Garante que não interfere em cliques */
    }

    </style>
</head>
<body>
  <!-- Primeira página -->
  <div id="page1" class="page">
    <audio id="musica_inicial" autoplay>
      <source src="musica_inicial.mp3" type="audio/mp3">
      Seu navegador não suporta o elemento de áudio.
    </audio>
    <h1>Uma simples lembrança para o grande amor da minha vida:</h1>
    <button id="surpriseBtn" style="background-color: red; color: white;">SURPRESA!!!</button>
  </div>

  <!-- Segunda página -->
  <div id="page2" class="page" style="display:none;">
    <audio id="musica_segunda_pagina" loop>
      <source src="musica_posterior.mp3" type="audio/mp3">
      Seu navegador não suporta o elemento de áudio.
    </audio>
    <div class="background-image"></div>
    <h2 class="title">Denis e Thalizia</h2>
    <h3 class="subtitle">Compartilhando momentos há:</h3>
    <div id="contador"></div>

    <!-- Slider de Fotos -->
    <div class="photo-slider" id="photo-slider">
      <div class="slider-item active"><img src="foto1.jpg" alt="Foto 1"><div class="caption">Meu coração escolheu você pra sempre</div></div>
      <div class="slider-item"><img src="foto4.jpg" alt="Foto 4"><div class="caption">Você é o meu presente mais bonito</div></div>
      <div class="slider-item"><img src="foto6.jpg" alt="Foto 6"><div class="caption">Os melhores momentos são com você</div></div>
      <div class="slider-item"><img src="foto20.jpg" alt="Foto 20"><div class="caption">Cada dia ao seu lado é especial</div></div>
      <div class="slider-item"><img src="foto21.jpg" alt="Foto 21"><div class="caption">Nossos sorrisos valem mais que mil palavras</div></div>
      <div class="slider-item"><img src="foto22.jpg" alt="Foto 22"><div class="caption">Momentos simples, mas inesquecíveis</div></div>
      <div class="slider-item"><img src="foto23.jpg" alt="Foto 23"><div class="caption">Você é minha paz</div></div>
      <div class="slider-item"><img src="foto24.jpg" alt="Foto 24"><div class="caption">O amor cresce cada dia mais</div></div>
      <div class="slider-item"><img src="foto25.jpg" alt="Foto 25"><div class="caption">Ao seu lado tudo fica perfeito</div></div>
      <div class="slider-item"><img src="foto26.jpg" alt="Foto 26"><div class="caption">Você e eu, para sempre nós</div></div>
      <div class="slider-item"><img src="foto27.jpg" alt="Foto 27"><div class="caption">Carinho, respeito e amor</div></div>
      <div class="slider-item"><img src="foto28.jpg" alt="Foto 28"><div class="caption">Seu abraço é meu refúgio</div></div>
      <div class="slider-item"><img src="foto29.jpg" alt="Foto 29"><div class="caption">Amor que nunca acaba</div></div>
      <div class="slider-item"><img src="foto30.jpg" alt="Foto 30"><div class="caption">Sempre com você</div></div>
      <div class="slider-item"><img src="foto31.jpg" alt="Foto 31"><div class="caption">O melhor presente é ter você</div></div>
      <div class="slider-item"><img src="foto32.jpg" alt="Foto 32"><div class="caption">No seu abraço, encontrei meu lar</div></div>
      <div class="slider-item"><img src="foto33.jpg" alt="Foto 33"><div class="caption">Te amo infinito</div></div>
    </div>

    <!-- Legenda -->
    <div id="legenda-foto"></div>

    <!-- Bolinhas de navegação -->
    <div class="slider-dots" id="slider-dots"></div>

    <!-- Mensagem final -->
    <div class="message">
        <p> Meu amor,

          Eu poderia passar a vida inteira tentando encontrar palavras para descrever o que você significa para mim, mas, mesmo assim, eu falharia. Porque o que sinto por você não cabe em frases, poemas ou músicas, é muito maior. Desde que você chegou, transformou minha vida em algo muito mais bonito do que eu poderia imaginar. Com você, aprendi o verdadeiro sentido do amor: cumplicidade, paciência, entrega e, acima de tudo, felicidade.
          
          Nosso amor é feito de detalhes: dos seus olhos que sorriem antes mesmo dos seus lábios, do jeito que você me olha e faz o mundo ao redor simplesmente desaparecer. Seu abraço é meu refúgio, e seu coração é meu lar. Nos seus gestos, encontro paz. Na sua voz, encontro consolo. E no seu amor, encontro o motivo para viver todos os dias com gratidão.
          
          Quero viver ao seu lado cada minuto, cada estação, cada amanhecer e cada pôr do sol, até o fim dos nossos dias. E ainda assim não será tempo suficiente.
          
          Você é meu sonho mais bonito, minha realidade mais feliz, minha sorte mais valiosa.
          
          Te amo além das palavras, além do tempo e além da vida.
          
          Você é, e sempre será, o grande amor da minha vida.
          
          Te amo Infinito♾️</p>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    const slides = document.querySelectorAll('.slider-item');
    const dotsContainer = document.getElementById('slider-dots');
    const legenda = document.getElementById('legenda-foto');
    let currentSlide = 0;

    slides.forEach((_, index) => {
        const dot = document.createElement('span');
        dot.classList.add('dot');
        if (index === 0) dot.classList.add('active');
        dot.dataset.index = index;
        dotsContainer.appendChild(dot);
    });

    const dots = document.querySelectorAll('.dot');

    // Função para mostrar a legenda
    function atualizarLegenda(index) {
        const captionElement = slides[index].querySelector('.caption');
        if (captionElement) {
            legenda.innerHTML = captionElement.textContent; // Exibe o texto da legenda
        } else {
            legenda.innerHTML = ''; // Caso não tenha legenda
        }
    }

    function showSlide(index) {
        slides.forEach(slide => slide.classList.remove('active'));
        dots.forEach(dot => dot.classList.remove('active'));
        slides[index].classList.add('active');
        dots[index].classList.add('active');
        atualizarLegenda(index); // Atualiza a legenda
    }

    function nextSlide() {
        currentSlide = (currentSlide + 1) % slides.length;
        showSlide(currentSlide);
    }

    setInterval(nextSlide, 6000);

    dots.forEach(dot => {
        dot.addEventListener('click', () => {
            currentSlide = parseInt(dot.dataset.index);
            showSlide(currentSlide);
        });
    });

    const musicaInicial = document.getElementById('musica_inicial');
        let musicaInicialTocando = false;

        // Função para verificar se é dispositivo móvel
        function isMobileDevice() {
            return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
        }

        // Em dispositivos móveis, tocar a música ao primeiro clique fora do botão SURPRESA
        if (isMobileDevice()) {
            document.addEventListener('click', (event) => {
                if (!musicaInicialTocando && event.target.id !== 'surpriseBtn') {
                    musicaInicial.play();
                    musicaInicialTocando = true;
                }
            });
        } else {
            // No desktop, tocar automaticamente
            window.addEventListener('load', () => {
                musicaInicial.play();
            });
        }

    // Swipe para dispositivos móveis
    const slider = document.getElementById('photo-slider');
    let startX = 0;

    slider.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
    });

    slider.addEventListener('touchend', (e) => {
        const endX = e.changedTouches[0].clientX;
        if (startX - endX > 50) {
            nextSlide();
        } else if (startX - endX < -50) {
            currentSlide = (currentSlide - 1 + slides.length) % slides.length;
            showSlide(currentSlide);
        }
    });

    document.getElementById('surpriseBtn').addEventListener('click', () => {
        document.getElementById('page1').style.display = 'none';
        document.getElementById('page2').style.display = 'block';
        document.getElementById('musica_inicial').pause();
        document.getElementById('musica_segunda_pagina').play();
        iniciarContador();
        atualizarLegenda(currentSlide); // Exibe a legenda do primeiro slide
    });

    function iniciarContador() {
    const dataInicio = new Date('2024-05-11T00:00:00');
    const contador = document.getElementById('contador');

    function atualizarContador() {
        const agora = new Date();
        let anos = agora.getFullYear() - dataInicio.getFullYear();
        let meses = agora.getMonth() - dataInicio.getMonth();
        let dias = agora.getDate() - dataInicio.getDate();
        let horas = agora.getHours() - dataInicio.getHours();
        let minutos = agora.getMinutes() - dataInicio.getMinutes();
        let segundos = agora.getSeconds() - dataInicio.getSeconds();

        // Ajustes para valores negativos
        if (segundos < 0) {
            segundos += 60;
            minutos--;
        }
        if (minutos < 0) {
            minutos += 60;
            horas--;
        }
        if (horas < 0) {
            horas += 24;
            dias--;
        }
        if (dias < 0) {
            const ultimoDiaMesAnterior = new Date(agora.getFullYear(), agora.getMonth(), 0).getDate();
            dias += ultimoDiaMesAnterior;
            meses--;
        }
        if (meses < 0) {
            meses += 12;
            anos--;
        }

        // Função auxiliar para ajustar o singular/plural
        function pluralize(valor, singular, plural) {
            return valor === 1 ? `${valor} ${singular}` : `${valor} ${plural}`;
        }

        contador.innerHTML = 
            `${anos > 0 ? pluralize(anos, 'ano', 'anos') + ', ' : ''}` +
            `${pluralize(meses, 'mês', 'meses')}, ` +
            `${pluralize(dias, 'dia', 'dias')}, ` +
            `${pluralize(horas, 'hora', 'horas')}, ` +
            `${pluralize(minutos, 'minuto', 'minutos')} e ` +
            `${pluralize(segundos, 'segundo', 'segundos')}`;
    }

    setInterval(atualizarContador, 1000);
    atualizarContador();
}

  // Detecta se o navegador é iOS
  if (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) {
      document.body.classList.add('ios'); // Adiciona a classe 'ios' ao <body>
  }


  </script>



</body>
</html>
